{"version":3,"file":"handlers-DC9O_HoL.js","sources":["../../src/js/refs.js","../../src/js/products-api.js","../../src/js/storage.js","../../src/js/render-function.js","../../src/js/modal.js","../../src/js/handlers.js"],"sourcesContent":["const refs = {\n  categoryList: document.querySelector('.categories'),\n  link: 'https://dummyjson.com/products',\n  productList: document.querySelector('.products'),\n  modalProduct: document.querySelector('.modal-product'),\n  modalWindow: document.querySelector('.modal'),\n  modalClose: document.querySelector('.modal__close-btn'),\n  searchForm: document.querySelector('.search-form'),\n  clearBtn: document.querySelector('.search-form__btn-clear'),\n  input: document.querySelector('.search-form__input'),\n  notFound: document.querySelector('.not-found'),\n  addToCart: document.querySelector(\".modal-product__btn--cart\"),\n  addToWishlist: document.querySelector(\".modal-product__btn--wishlist\"),\n  cartCount: document.querySelector(\".nav__count\"),\n  cartList: document.querySelector(\".products\"),\n  itemCountCart: document.querySelector(\".cart-summary__value\"),\n  itemCostCart: document.querySelector(`[data-price]`)\n};\nexport default refs;\n","// Функції для роботи з бекендом\nimport axios from 'axios';\nimport refs from '/js/refs.js';\n\nexport async function categoryListApi() {\n  const link = refs.link;\n  const response = await axios(`${link}/category-list`);\n  return response;\n}\n\nexport async function productsApi() {\n  const currentPage = 1;\n  const link = refs.link;\n  const response = await axios(\n    `${link}?limit=12&skip=${(currentPage - 1) * 12}`\n  );\n  return response;\n}\n\nexport async function getCategoryApi(text) {\n  const link = refs.link;\n  const response = await axios(`${link}/category/${text}`);\n  return response;\n}\n\nexport async function getProductById(id) {\n  const link = refs.link;\n  const response = await axios(`${link}/${id}`);\n  return response;\n}\n\nexport async function searchProduct(name) {\n  const link = refs.link;\n  const response = await axios(`${link}/search?q=${name}&limit=12`);\n  return response;\n}\n","//Робота з loacalStorage\nimport refs from './refs.js';\n\nexport const key = 'cart';\nexport let array = [];\nexport const productKey = 'currentProductId';\nexport const getPriceKey = `currentProductPrice`;\nexport const priceKey = \"price\";\nexport const priceArr = [];\n\nexport async function setProductId(id) {\n  try {\n    localStorage.setItem(productKey, id);\n  } catch (error) {\n    alert(error);\n  }\n}\nexport async function setProductPrice(id) {\n  try {\n    localStorage.setItem(getPriceKey, id);\n  } catch (error) {\n    alert(error);\n  }\n}\nexport function getProductId() {\n  try {\n    return localStorage.getItem(productKey);\n  } catch (error) {\n    alert(error);\n    return null;\n  }\n}\nexport function getProductPrice() {\n  try {\n    return localStorage.getItem(getPriceKey);\n  } catch (error) {\n    alert(error);\n    return null;\n  }\n}\n\nexport function checkStorage(event) {\n    if (array.includes(localStorage.getItem(productKey))) {\n        event.textContent = `Remove from Cart`\n    } else {\n         event.textContent = `Add to Cart`\n    }\n}\nexport function updateCartCount() {\n  try {\n    const idArr = JSON.parse(localStorage.getItem(key)) || [];\n\n    // Обнуляем текущие значения\n    array.length = 0;\n    refs.cartCount.textContent = 0;\n\n    idArr.forEach(item => {\n      array.push(item);\n    });\n\n    refs.cartCount.textContent = array.length;\n\n  } catch (error) {\n    alert(error)\n  }\n}\nexport function updatePriceCart() {\n  try {\n    const idArr = JSON.parse(localStorage.getItem(priceKey)) || [];\n    priceArr.length = 0;\n\n    // Начальная сумма\n    let total = 0;\n\n    idArr.forEach(str => {\n      // Преобразуем строку вида \"Price: 24999.99$\" в число\n      const price = parseFloat(str.replace(/[^\\d.]/g, ''));\n\n      if (!isNaN(price)) {\n        priceArr.push(price);       // Сохраняем чистое число\n        total += price;             // Прибавляем к сумме\n      }\n    });\n\n    // Обновляем отображаемую цену\n    refs.itemCostCart.textContent =`$${total.toFixed(2)}`; \n  } catch (error) {\n    alert(error)\n  }\n}\nexport function updatePrice() {\n  try {\n    const idArr = JSON.parse(localStorage.getItem(priceKey)) || [];\n    priceArr.length = 0;\n    idArr.forEach(item => {\n      priceArr.push(item);\n    });\n\n  } catch (error) {\n    alert(error)\n  }\n}","//Функцію для створення, рендеру або видалення розмітки\nimport refs from './refs.js';\nimport { key } from './storage.js';\nimport { getProductById } from './products-api.js';\nexport function renderCategories(arr) {\n  return arr\n    .map(\n      item =>\n        `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${item}</button>\n </li>`\n    )\n    .join('');\n}\n\nexport function renderProducts(arr) {\n  return arr\n    .map(\n      ({ id, title, brand, category, price, images }) =>\n        `<li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${images[0]}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:${brand}</span></p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: ${price}$</p>\n </li>\n`\n    )\n    .join('');\n}\n\nexport function renderModal(arr) {\n  const {\n    id,\n    title,\n    price,\n    images,\n    returnPolicy,\n    shippingInformation,\n    description,\n    tags,\n  } = arr;\n  return `<img class=\"modal-product__img\" src=\"${images[0]}\" alt=\"${title}\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${title}</p>\n        <ul class=\"modal-product__tags\">${tags}</ul>\n        <p class=\"modal-product__description\">${description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping: ${shippingInformation}</p>\n        <p class=\"modal-product__return-policy\">Return Policy: ${returnPolicy}</p>\n        <p class=\"modal-product__price\" data-price=\"${price}\">Price: ${price}$</p>\n      </div>\n`;\n}\nexport function renderProductsCart() {\n  const productId = JSON.parse(localStorage.getItem(key));\n  productId.forEach(element => {\n    getProductById(element)\n      .then(res => {\n        refs.cartList.insertAdjacentHTML('beforeend', renderCart(res.data));\n      })\n      .catch(error => console.log(error.message));\n  });\n}\nexport function renderCart(arr) {\n  const { id, title, price, images, brand, category } = arr;\n  return `<li class=\"products__item\" data-id=\"${id}\">\n  <img class=\"products__image\" src=\"${images[0]}\" alt=\"${title}\"/>\n  <p class=\"products__title\">${title}</p>\n  <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:${brand}</span></p>\n  <p class=\"products__category\">Category: ${category}</p>\n  <p class=\"products__price\" data-price=\"${price}\">Price: ${price}$</p>\n</li>\n`;\n}\n","//Описана робота модалки - відкриття закриття і все що з модалкою повʼязано\nimport refs from './refs.js';\n\nexport function openModal() {\n  refs.modalWindow.classList.add('modal--is-open');\n}\n\nexport function closeModal() {\n  refs.modalProduct.innerHTML = '';\n  refs.modalWindow.classList.remove('modal--is-open');\n}\n\n","// Функції, які передаються колбеками в addEventListners\nimport {\n  getCategoryApi,\n  productsApi,\n  getProductById,\n  searchProduct,\n} from './products-api.js';\nimport refs from './refs.js';\nimport { renderProducts, renderModal,renderProductsCart } from './render-function.js';\nimport { openModal, closeModal } from './modal.js';\nimport {\n  key,\n  array,\n  setProductId,\n  getProductId,\n  checkStorage,\n  updateCartCount,\n  priceArr,\n  priceKey,\n  updatePrice,\n  setProductPrice,\n  getProductPrice\n} from './storage.js';\n\nlet idProduct = null;\nexport function handleCategoryClick(event) {\n  if (!event.target.closest('button')) {\n    return;\n  }\n  const buttons = document.querySelectorAll('.categories__btn');\n  buttons.forEach(btn => btn.classList.remove('categories__btn--active'));\n  event.target.classList.add('categories__btn--active');\n\n  if (event.target.textContent === 'All') {\n    productsApi()\n      .then(res => {\n        refs.productList.insertAdjacentHTML(\n          'beforeend',\n          renderProducts(res.data.products)\n        );\n      })\n      .catch(error => alert(error.message));\n  }\n\n  getCategoryApi(event.target.textContent)\n    .then(res => {\n      const productList = refs.productList;\n      productList.innerHTML = renderProducts(res.data.products);\n    })\n    .catch(error => alert(error.message));\n}\n\nexport function handleProductClick(event) {\n  if (!event.target.closest('li')) {\n    return;\n  }\n  const productId = event.target.closest('li').dataset.id;\n  getProductById(productId)\n    .then(res => {\n      setProductId(productId);\n      openModal();\n      refs.modalProduct.insertAdjacentHTML('beforeend', renderModal(res.data));\n      checkStorage(refs.addToCart);\n    })\n    .catch(error => alert(error.message));\n}\n\nexport function handleCloseClick() {\n  closeModal();\n}\nexport function handleCloseClickCart() {\n  refs.cartList.innerHTML = '';\n  renderProductsCart();\n  refs.itemCountCart.textContent = refs.cartCount.textContent;\n  closeModal();\n}\n\nexport function searchFrom(event) {\n  event.preventDefault();\n  refs.productList.innerHTML = '';\n  const buttons = document.querySelectorAll('.categories__btn');\n  buttons.forEach(btn => btn.classList.remove('categories__btn--active'));\n  if (refs.input.value.trim() === '') {\n    alert('Please write correct product name');\n    refs.searchForm.reset();\n    return;\n  }\n  searchProduct(refs.input.value)\n    .then(res => {\n      if (res.data.products.length === 0) {\n        refs.notFound.classList.add('not-found--visible');\n        refs.searchForm.reset();\n        return;\n      }\n      refs.productList.insertAdjacentHTML(\n        'beforeend',\n        renderProducts(res.data.products)\n      );\n      refs.notFound.classList.remove('not-found--visible');\n    })\n    .catch(error => alert(error.message));\n  refs.searchForm.reset();\n}\n\nexport function addToCartClick(event) {\n  const price = document.querySelector('.modal-product__price').textContent;\n  const id = getProductId();\n  if (!id) {\n    alert('Error has occurred');\n    return;\n  }\n  if (event.target.textContent === `Remove from Cart`) {\n    const priceIndex = priceArr.indexOf(price);\n    if (priceIndex > -1) {\n      priceArr.splice(priceIndex, 1);\n      localStorage.setItem(priceKey, JSON.stringify(priceArr));\n    }\n    const index = array.indexOf(id);\n    if (index > -1) {\n      array.splice(index, 1);\n      localStorage.setItem(key, JSON.stringify(array));\n      refs.cartCount.textContent--;\n      event.target.textContent = 'Add to Cart';\n      return;\n    }\n  } else {\n    event.target.textContent = \"Remove from Cart\";\n    priceArr.push(price);\n    array.push(id);\n    localStorage.setItem(key, JSON.stringify(array));\n    localStorage.setItem(priceKey, JSON.stringify(priceArr));\n    refs.cartCount.textContent++\n  }\n}\nexport function removeFromCartClick(event) {\n  const id = getProductId();\n  if (!id) {\n    alert('Error has occurred');\n    return;\n  }\n  const index = array.indexOf(id);\n  if (event.target.textContent === `Remove from Cart`) {\n    const index = array.indexOf(id);\n    const priceIndex = priceArr.indexOf(price);\n    if (priceIndex > -1) {\n      priceArr.splice(priceIndex, 1);\n      localStorage.setItem(priceKey, JSON.stringify(priceArr));\n    }\n    if (index > -1) {\n      array.splice(index, 1);\n      localStorage.setItem(key, JSON.stringify(array));\n      refs.cartCount.textContent--;\n      event.target.textContent = 'Add to Cart';\n  \n      updateCartCount();\n      refs.itemCountCart.textContent = refs.cartCount.textContent\n      return;\n    }\n  } else {\n    event.target.textContent = \"Remove from Cart\";\n    array.push(id);\n    localStorage.setItem(key, JSON.stringify(array));\n    refs.cartCount.textContent++;\n    updateCartCount(); \n    refs.itemCountCart.textContent = refs.cartCount.textContent\n  }\n}"],"names":["refs","categoryListApi","link","axios","productsApi","getCategoryApi","text","getProductById","id","searchProduct","name","key","array","productKey","priceKey","priceArr","setProductId","error","getProductId","checkStorage","event","updateCartCount","idArr","item","updatePriceCart","total","str","price","updatePrice","renderCategories","arr","renderProducts","title","brand","category","images","renderModal","returnPolicy","shippingInformation","description","tags","renderProductsCart","element","res","renderCart","openModal","closeModal","handleCategoryClick","btn","productList","handleProductClick","productId","handleCloseClick","handleCloseClickCart","searchFrom","addToCartClick","priceIndex","index","removeFromCartClick"],"mappings":"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"}