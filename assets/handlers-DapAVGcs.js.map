{"version":3,"file":"handlers-DapAVGcs.js","sources":["../../src/js/refs.js","../../src/js/storage.js","../../src/js/products-api.js","../../src/js/render-function.js","../../src/js/modal.js","../../src/js/helpers.js","../../src/js/handlers.js"],"sourcesContent":["const refs = {\n  categoryList: document.querySelector('.categories'),\n  link: 'https://dummyjson.com/products',\n  productList: document.querySelector('.products'),\n  modalProduct: document.querySelector('.modal-product'),\n  modalWindow: document.querySelector('.modal'),\n  modalClose: document.querySelector('.modal__close-btn'),\n  searchForm: document.querySelector('.search-form'),\n  clearBtn: document.querySelector('.search-form__btn-clear'),\n  input: document.querySelector('.search-form__input'),\n  notFound: document.querySelector('.not-found'),\n  addToCart: document.querySelector(\".modal-product__btn--cart\"),\n  addToWishlist: document.querySelector(\".modal-product__btn--wishlist\"),\n  cartCount: document.querySelector(\".nav__count\"),\n  cartList: document.querySelector(\".products\"),\n  itemCountCart: document.querySelector(\".cart-summary__value\"),\n  itemCostCart: document.querySelector(`.price_total`),\n  addToWishlist: document.querySelector('.modal-product__btn--wishlist'),\n  wishlistCount: document.querySelector(\"[data-wishlist-count]\"),\n  scrollUpBtn: document.getElementById('scrollUpBtn'),\n  changeTheme: document.querySelector('.switch .input')\n};\nexport default refs;\n","//Робота з loacalStorage\nimport refs from './refs.js';\n\nexport const key = 'cart';\nexport let array = [];\nexport const productKey = 'currentProductId';\nexport const getPriceKey = `currentProductPrice`;\nexport const priceKey = 'price';\nexport const priceArr = [];\nexport const wishlistKey = 'wishlist'\nexport const wishlistArr = [];\nexport const wishlistKeyCurrent = 'currentWishlist'\nexport const themeKey =`currentTheme`\n\nexport async function setProductId(id) {\n  try {\n    localStorage.setItem(productKey, id);\n  } catch (error) {\n    alert(error);\n  }\n}\nexport async function setProductPrice(id) {\n  try {\n    localStorage.setItem(getPriceKey, id);\n  } catch (error) {\n    alert(error);\n  }\n}\nexport async function setProductWishlist(id) {\n  try {\n    localStorage.setItem(wishlistKeyCurrent, id);\n  } catch (error) {\n    alert(error);\n  }\n}\nexport function getProductId() {\n  try {\n    return localStorage.getItem(productKey);\n  } catch (error) {\n    alert(error);\n    return null;\n  }\n}\nexport function getProductPrice() {\n  try {\n    return localStorage.getItem(getPriceKey);\n  } catch (error) {\n    alert(error);\n    return null;\n  }\n}\nexport function getProductWishlist() {\n  try {\n    return localStorage.getItem(wishlistKeyCurrent);\n  } catch (error) {\n    alert(error);\n    return null;\n  }\n}\n\nexport function checkStorage(event) {\n  if (array.includes(localStorage.getItem(productKey))) {\n    event.textContent = `Remove from Cart`;\n  } else {\n    event.textContent = `Add to Cart`;\n  }\n}\nexport function checkStorageWishlist(event) {\n  if (wishlistArr.includes(localStorage.getItem(wishlistKeyCurrent))) {\n    event.textContent = `Remove from Wishlist`;\n  } else {\n    event.textContent = `Add to Wishlist`;\n  }\n}\nexport function updateCartCount() {\n  try {\n    const idArr = JSON.parse(localStorage.getItem(key)) || [];\n    array.length = 0;\n    refs.cartCount.textContent = 0;\n\n    idArr.forEach(item => {\n      array.push(item);\n    });\n\n    refs.cartCount.textContent = array.length;\n    if (window.location.pathname.endsWith('cart.html')) {\n      refs.itemCountCart.textContent = array.length;\n    }\n  } catch (error) {\n    alert(error);\n  }\n}\nexport function updatePriceCart() {\n  try {\n    const priceArray = JSON.parse(localStorage.getItem(priceKey)) || [];\n    priceArr.length = 0;\n    let total = 0;\n    refs.itemCostCart.textContent = '$0';\n    priceArray.forEach(item => {\n      const price = parseInt(item);\n      priceArr.push(price);\n      total += price;\n    });\n    refs.itemCostCart.textContent = `$${Number.parseFloat(total).toFixed(2)}`;\n  } catch (error) {\n    alert(error);\n  }\n}\nexport function updatePrice() {\n  try {\n    const idArr = JSON.parse(localStorage.getItem(priceKey)) || [];\n    priceArr.length = 0;\n    idArr.forEach(item => {\n      priceArr.push(item);\n    });\n  } catch (error) {\n    alert(error);\n  }\n}\nexport function updateWishlistCount() {\n  try {\n    const idArr = JSON.parse(localStorage.getItem(wishlistKey)) || [];\n    wishlistArr.length = 0;\n    refs.wishlistCount.textContent = 0;\n    idArr.forEach(item => {\n      wishlistArr.push(item);\n    });\n    refs.wishlistCount.textContent = wishlistArr.length;\n  } catch (error) {\n    alert(error);\n  }\n}\nexport function applySavedTheme() {\n  const savedTheme = localStorage.getItem(themeKey);\n  if (savedTheme === 'dark') {\n    document.body.classList.add('body-dark-theme');\n    if (refs.changeTheme) refs.changeTheme.checked = true; // Move switch to right\n  } else {\n    document.body.classList.remove('body-dark-theme');\n    if (refs.changeTheme) refs.changeTheme.checked = false; // Move switch to left\n  }\n}","// Функції для роботи з бекендом\nimport axios from 'axios';\nimport refs from '/js/refs.js';\n\nexport async function categoryListApi() {\n  const link = refs.link;\n  const response = await axios(`${link}/category-list`);\n  return response;\n}\n\nexport async function productsApi() {\n  const currentPage = 1;\n  const link = refs.link;\n  const response = await axios(\n    `${link}?limit=12&skip=${(currentPage - 1) * 12}`\n  );\n  return response;\n}\n\nexport async function getCategoryApi(text) {\n  const link = refs.link;\n  const response = await axios(`${link}/category/${text}`);\n  return response;\n}\n\nexport async function getProductById(id) {\n  const link = refs.link;\n  const response = await axios(`${link}/${id}`);\n  return response;\n}\n\nexport async function searchProduct(name) {\n  const link = refs.link;\n  const response = await axios(`${link}/search?q=${name}&limit=12`);\n  return response;\n}\n","//Функцію для створення, рендеру або видалення розмітки\nimport refs from './refs.js';\nimport { key, wishlistKey } from './storage.js';\nimport { getProductById } from './products-api.js';\nexport function renderCategories(arr) {\n  return arr\n    .map(\n      item =>\n        `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${item}</button>\n </li>`\n    )\n    .join('');\n}\n\nexport function renderProducts(arr) {\n  return arr\n    .map(\n      ({ id, title, brand, category, price, images }) =>\n        `<li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${images[0]}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: ${price}$</p>\n </li>\n`\n    )\n    .join('');\n}\n\nexport function renderModal(arr) {\n  const {\n    id,\n    title,\n    price,\n    images,\n    returnPolicy,\n    shippingInformation,\n    description,\n    tags,\n  } = arr;\n  return `<img class=\"modal-product__img\" src=\"${images[0]}\" alt=\"${title}\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${title}</p>\n        <ul class=\"modal-product__tags\">${tags}</ul>\n        <p class=\"modal-product__description\">${description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping: ${shippingInformation}</p>\n        <p class=\"modal-product__return-policy\">Return Policy: ${returnPolicy}</p>\n        <p class=\"modal-product__price\" data-price=\"${price}\">Price: ${price}$</p>\n      </div>\n`;\n}\nexport function renderProductsCart() {\n  const productId = JSON.parse(localStorage.getItem(key));\n  if (!Array.isArray(productId) || productId.length === 0) return; // Prevent error if empty\n  productId.forEach(element => {\n    getProductById(element)\n      .then(res => {\n        refs.cartList.insertAdjacentHTML('beforeend', renderCart(res.data));\n      })\n      .catch(error => console.log(error.message));\n  });\n}\nexport function renderCart(arr) {\n  const { id, title, price, images, brand, category } = arr;\n  return `<li class=\"products__item\" data-id=\"${id}\">\n  <img class=\"products__image\" src=\"${images[0]}\" alt=\"${title}\"/>\n  <p class=\"products__title\">${title}</p>\n  <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:${brand}</span></p>\n  <p class=\"products__category\">Category: ${category}</p>\n  <p class=\"products__price\" data-price=\"${price}\">Price: ${price}$</p>\n</li>\n`;\n}\nexport function renderProductsSWishlist() {\n  const productId = JSON.parse(localStorage.getItem(wishlistKey));\n  if (!Array.isArray(productId) || productId.length === 0) return; // Prevent error if empty\n  productId.forEach(element => {\n    getProductById(element)\n      .then(res => {\n        refs.cartList.insertAdjacentHTML('beforeend', renderCart(res.data));\n      })\n      .catch(error => console.log(error.message));\n  });\n}\n","//Описана робота модалки - відкриття закриття і все що з модалкою повʼязано\nimport refs from './refs.js';\n\nexport function openModal() {\n  refs.modalWindow.classList.add('modal--is-open');\n}\n\nexport function closeModal() {\n  refs.modalProduct.innerHTML = '';\n  refs.modalWindow.classList.remove('modal--is-open');\n}\n\n","//Допоміжні функції\nimport refs from './refs.js';\nimport {\n  getCategoryApi,\n  productsApi,\n  getProductById,\n  searchProduct,\n  categoryListApi\n} from './products-api.js';\nimport {\n  renderProducts,\n  renderModal,\n  renderProductsCart,\n  renderProductsSWishlist,\n  renderCategories\n} from './render-function.js';\nimport { openModal, closeModal } from './modal.js';\nimport {\n  key,\n  array,\n  setProductId,\n  getProductId,\n  checkStorage,\n  updateCartCount,\n  priceArr,\n  priceKey,\n  setProductPrice,\n  updatePriceCart,\n  getProductPrice,\n  wishlistArr,\n  wishlistKey,\n  getProductWishlist,\n  setProductWishlist,\n  checkStorageWishlist,\n  themeKey,\n} from './storage.js';\n\nexport function clearSearch() {\n  refs.input.value = '';\n}\n\nexport function displayCategories() {\n  categoryListApi()\n  .then(res => {\n    const categories = ['All', ...res.data];\n    refs.categoryList.insertAdjacentHTML(\n      'beforeend',\n      renderCategories(categories)\n    );\n  })\n  .catch(error => alert(error.message));\n}\n\nexport function displayProducts() {\n  productsApi()\n  .then(res => {\n    refs.productList.insertAdjacentHTML(\n      'beforeend',\n      renderProducts(res.data.products)\n    );\n  })\n  .catch(error => alert(error.message));\n}","// Функції, які передаються колбеками в addEventListners\nimport {\n  getCategoryApi,\n  getProductById,\n  searchProduct,\n} from './products-api.js';\nimport refs from './refs.js';\nimport { displayProducts } from './helpers.js';\nimport {\n  renderProducts,\n  renderModal,\n  renderProductsCart,\n  renderProductsSWishlist,\n} from './render-function.js';\nimport { openModal, closeModal } from './modal.js';\nimport {\n  key,\n  array,\n  setProductId,\n  getProductId,\n  checkStorage,\n  updateCartCount,\n  priceArr,\n  priceKey,\n  setProductPrice,\n  updatePriceCart,\n  getProductPrice,\n  wishlistArr,\n  wishlistKey,\n  getProductWishlist,\n  setProductWishlist,\n  checkStorageWishlist,\n  themeKey,\n} from './storage.js';\n\nexport function handleCategoryClick(event) {\n  if (!event.target.closest('button')) {\n    return;\n  }\n  const buttons = document.querySelectorAll('.categories__btn');\n  buttons.forEach(btn => btn.classList.remove('categories__btn--active'));\n  event.target.classList.add('categories__btn--active');\n\n  if (event.target.textContent === 'All') {\n    displayProducts();\n  }\n\n  getCategoryApi(event.target.textContent)\n    .then(res => {\n      const productList = refs.productList;\n      productList.innerHTML = renderProducts(res.data.products);\n    })\n    .catch(error => alert(error.message));\n}\n\nexport function handleProductClick(event) {\n  if (!event.target.closest('li')) {\n    return;\n  }\n  const productElement = event.target.closest('li');\n  const productId = productElement.dataset.id;\n  const productPrice =\n    productElement.querySelector('.products__price').textContent;\n  const formatPrice = parseFloat(productPrice.replace(/[^\\d.]/g, ''));\n  getProductById(productId)\n    .then(res => {\n      setProductId(productId);\n      setProductPrice(formatPrice);\n      setProductWishlist(productId);\n      openModal();\n      refs.modalProduct.insertAdjacentHTML('beforeend', renderModal(res.data));\n      checkStorage(refs.addToCart);\n      checkStorageWishlist(refs.addToWishlist);\n    })\n    .catch(error => alert(error.message));\n}\n\nexport function handleCloseClick() {\n  closeModal();\n}\nexport function handleCloseClickCart() {\n  refs.cartList.innerHTML = '';\n  renderProductsCart();\n  closeModal();\n}\nexport function handleCloseClickWishlist() {\n  refs.cartList.innerHTML = '';\n  renderProductsSWishlist();\n  closeModal();\n}\n\nexport function searchFrom(event) {\n  event.preventDefault();\n  if (refs.input.value.trim() === '') {\n    alert('Please write correct product name');\n    refs.searchForm.reset();\n    return;\n  }\n  const query = refs.input.value.trim();\n  refs.productList.innerHTML = '';\n  const buttons = document.querySelectorAll('.categories__btn');\n  buttons.forEach(btn => btn.classList.remove('categories__btn--active'));\n  if (!window.location.pathname.endsWith('index.html')) {\n    localStorage.setItem('pendingSearch', query);\n    window.location.href = 'index.html';\n    return;\n  }\n  searchProduct(refs.input.value)\n    .then(res => {\n      if (res.data.products.length === 0) {\n        refs.notFound.classList.add('not-found--visible');\n        refs.searchForm.reset();\n        return;\n      }\n      refs.productList.insertAdjacentHTML(\n        'beforeend',\n        renderProducts(res.data.products)\n      );\n      refs.notFound.classList.remove('not-found--visible');\n    })\n    .catch(error => alert(error.message));\n  refs.searchForm.reset();\n}\n\nexport function searchFormOnMain() {\n  const pendingSearch = localStorage.getItem('pendingSearch');\n  if (pendingSearch) {\n    refs.input.value = pendingSearch;\n    localStorage.removeItem('pendingSearch');\n    refs.productList.innerHTML = '';\n    searchProduct(pendingSearch)\n      .then(res => {\n        if (res.data.products.length === 0) {\n          refs.notFound.classList.add('not-found--visible');\n          refs.searchForm.reset();\n          return;\n        }\n        refs.productList.insertAdjacentHTML(\n          'beforeend',\n          renderProducts(res.data.products)\n        );\n        refs.notFound.classList.remove('not-found--visible');\n      })\n      .catch(error => alert(error.message));\n    refs.searchForm.reset();\n  } else {\n    displayProducts(); // Only show all products if no search\n  }\n}\n\nexport function addToCartClick(event) {\n  const price = parseInt(getProductPrice());\n  const id = getProductId();\n  if (!id) {\n    alert('Error has occurred');\n    return;\n  }\n  if (event.target.textContent === `Remove from Cart`) {\n    const priceIndex = priceArr.indexOf(price);\n    if (priceIndex > -1) {\n      priceArr.splice(priceIndex, 1);\n      localStorage.setItem(priceKey, JSON.stringify(priceArr));\n    }\n    const index = array.indexOf(id);\n    if (index > -1) {\n      array.splice(index, 1);\n      localStorage.setItem(key, JSON.stringify(array));\n      refs.cartCount.textContent--;\n      event.target.textContent = 'Add to Cart';\n      return;\n    }\n  } else {\n    event.target.textContent = 'Remove from Cart';\n    priceArr.push(price);\n    array.push(id);\n    localStorage.setItem(key, JSON.stringify(array));\n    localStorage.setItem(priceKey, JSON.stringify(priceArr));\n    refs.cartCount.textContent++;\n  }\n}\nexport function removeFromCartClick(event) {\n  const id = getProductId();\n  const price = parseInt(getProductPrice());\n  if (!id) {\n    alert('Error has occurred');\n    return;\n  }\n  if (event.target.textContent === `Remove from Cart`) {\n    const index = array.indexOf(id);\n    const indexPrice = priceArr.indexOf(price);\n    if (index > -1) {\n      array.splice(index, 1);\n      priceArr.splice(indexPrice, 1);\n      localStorage.setItem(key, JSON.stringify(array));\n      localStorage.setItem(priceKey, JSON.stringify(priceArr));\n      refs.cartCount.textContent--;\n      event.target.textContent = 'Add to Cart';\n      updatePriceCart();\n      updateCartCount();\n      return;\n    }\n  } else {\n    event.target.textContent = 'Remove from Cart';\n    priceArr.push(parseInt(price));\n    array.push(id);\n    localStorage.setItem(key, JSON.stringify(array));\n    localStorage.setItem(priceKey, JSON.stringify(priceArr));\n    refs.cartCount.textContent++;\n    updateCartCount();\n    updatePriceCart();\n    refs.itemCountCart.textContent = refs.cartCount.textContent;\n  }\n}\n\nexport function addToWishlistClick(event) {\n  console.log(refs.wishlistCount.textContent);\n\n  const id = getProductWishlist();\n  if (!id) {\n    alert('Error has occurred');\n    return;\n  }\n  if (event.target.textContent === `Remove from Wishlist`) {\n    const index = wishlistArr.indexOf(id);\n    if (index > -1) {\n      wishlistArr.splice(index, 1);\n      localStorage.setItem(wishlistKey, JSON.stringify(wishlistArr));\n      refs.wishlistCount.textContent--;\n      event.target.textContent = 'Add to Wishlist';\n      return;\n    }\n  } else {\n    event.target.textContent = 'Remove from Wishlist';\n    wishlistArr.push(id);\n    localStorage.setItem(wishlistKey, JSON.stringify(wishlistArr));\n    refs.wishlistCount.textContent++;\n  }\n}\nexport function scrollBtn() {\n  if (window.scrollY > 300) {\n    refs.scrollUpBtn.style.display = 'block';\n  } else {\n    refs.scrollUpBtn.style.display = 'none';\n  }\n}\nexport function scrollUp() {\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n}\n\nexport function changeTheme() {\n  if (refs.changeTheme.checked) {\n    document.body.classList.add('body-dark-theme');\n    localStorage.setItem(themeKey, 'dark');\n  } else {\n    document.body.classList.remove('body-dark-theme');\n    localStorage.setItem(themeKey, 'light');\n  }\n}\n"],"names":["refs","key","array","productKey","getPriceKey","priceKey","priceArr","wishlistKey","wishlistArr","wishlistKeyCurrent","themeKey","setProductId","id","error","setProductPrice","setProductWishlist","getProductId","getProductPrice","getProductWishlist","checkStorage","event","checkStorageWishlist","updateCartCount","idArr","item","updatePriceCart","priceArray","total","price","updatePrice","updateWishlistCount","applySavedTheme","categoryListApi","link","axios","productsApi","getCategoryApi","text","getProductById","searchProduct","name","renderCategories","arr","renderProducts","title","brand","category","images","renderModal","returnPolicy","shippingInformation","description","tags","renderProductsCart","productId","element","res","renderCart","renderProductsSWishlist","openModal","closeModal","clearSearch","displayCategories","categories","displayProducts","handleCategoryClick","btn","productList","handleProductClick","productElement","productPrice","formatPrice","handleCloseClick","handleCloseClickCart","handleCloseClickWishlist","searchFrom","query","searchFormOnMain","pendingSearch","addToCartClick","priceIndex","index","removeFromCartClick","indexPrice","addToWishlistClick","scrollBtn","scrollUp","changeTheme"],"mappings":"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"}