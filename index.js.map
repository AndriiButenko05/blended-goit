{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/products-api.js","../src/js/render-function.js","../src/js/modal.js","../src/js/handlers.js","../src/js/helpers.js","../src/home.js"],"sourcesContent":["const refs = {\n  categoryList: document.querySelector('.categories'),\n  link: 'https://dummyjson.com/products',\n  productList: document.querySelector('.products'),\n  modalProduct: document.querySelector('.modal-product'),\n  modalWindow: document.querySelector('.modal'),\n  modalClose: document.querySelector('.modal__close-btn'),\n  searchForm: document.querySelector('.search-form'),\n  clearBtn: document.querySelector('.search-form__btn-clear'),\n  input: document.querySelector('.search-form__input'),\n  notFound: document.querySelector('.not-found'),\n};\nexport default refs;\n","// Функції для роботи з бекендом\nimport axios from 'axios';\nimport refs from '/js/refs.js';\n\nexport async function categoryListApi() {\n  const link = refs.link;\n  const response = await axios(`${link}/category-list`);\n  return response;\n}\n\nexport async function productsApi() {\n  const currentPage = 1;\n  const link = refs.link;\n  const response = await axios(\n    `${link}?limit=12&skip=${(currentPage - 1) * 12}`\n  );\n  return response;\n}\n\nexport async function getCategoryApi(text) {\n  const link = refs.link;\n  const response = await axios(`${link}/category/${text}`);\n  return response;\n}\n\nexport async function getProductById(id) {\n  const link = refs.link;\n  const response = await axios(`${link}/${id}`);\n  return response;\n}\n\nexport async function searchProduct(name) {\n  const link = refs.link;\n  const response = await axios(`${link}/search?q=${name}&limit=12`);\n  return response;\n}\n","//Функцію для створення, рендеру або видалення розмітки\n\nexport function renderCategories(arr) {\n  return arr\n    .map(\n      item =>\n        `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${item}</button>\n </li>`\n    )\n    .join('');\n}\n\nexport function renderProducts(arr) {\n  return arr\n    .map(\n      ({ id, title, brand, category, price, images }) =>\n        `<li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${images[0]}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:${brand}</span></p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price: ${price}$</p>\n </li>\n`\n    )\n    .join('');\n}\n\nexport function renderModal(arr) {\n  const {\n    title,\n    price,\n    images,\n    returnPolicy,\n    shippingInformation,\n    description,\n    tags,\n  } = arr;\n  return `<img class=\"modal-product__img\" src=\"${images[0]}\" alt=\"${title}\" />\n      <div class=\"modal-product__content\">\n        <p class=\"modal-product__title\">${title}</p>\n        <ul class=\"modal-product__tags\">${tags}</ul>\n        <p class=\"modal-product__description\">${description}</p>\n        <p class=\"modal-product__shipping-information\">Shipping: ${shippingInformation}</p>\n        <p class=\"modal-product__return-policy\">Return Policy: ${returnPolicy}</p>\n        <p class=\"modal-product__price\">Price: ${price}$</p>\n        <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n      </div>\n`;\n}\n","//Описана робота модалки - відкриття закриття і все що з модалкою повʼязано\nimport refs from './refs.js';\n\nexport function openModal() {\n  refs.modalWindow.classList.add('modal--is-open');\n}\n\nexport function closeModal() {\n  refs.modalProduct.innerHTML = '';\n  refs.modalWindow.classList.remove('modal--is-open');\n}\n","// Функції, які передаються колбеками в addEventListners\nimport {\n  getCategoryApi,\n  productsApi,\n  getProductById,\n  searchProduct,\n} from './products-api.js';\nimport refs from './refs.js';\nimport { renderProducts, renderModal } from './render-function.js';\nimport { openModal, closeModal } from './modal.js';\n\nexport function handleCategoryClick(event) {\n  if (!event.target.closest('button')) {\n    return;\n  }\n  const buttons = document.querySelectorAll('.categories__btn');\n  buttons.forEach(btn => btn.classList.remove('categories__btn--active'));\n  event.target.classList.add('categories__btn--active');\n\n  if (event.target.textContent === 'All') {\n    productsApi()\n      .then(res => {\n        refs.productList.insertAdjacentHTML(\n          'beforeend',\n          renderProducts(res.data.products)\n        );\n      })\n      .catch(error => alert(error.message));\n  }\n\n  getCategoryApi(event.target.textContent)\n    .then(res => {\n      const productList = refs.productList;\n      productList.innerHTML = renderProducts(res.data.products);\n    })\n    .catch(error => alert(error.message));\n}\n\nexport function handleProductClick(event) {\n  if (!event.target.closest('li')) {\n    return;\n  }\n\n  const productId = event.target.closest('li').dataset.id;\n  getProductById(productId)\n    .then(res => {\n      openModal();\n      console.log(res);\n      refs.modalProduct.insertAdjacentHTML('beforeend', renderModal(res.data));\n    })\n    .catch(error => alert(error.message));\n}\n\nexport function handleCloseClick() {\n  closeModal();\n}\n\nexport function searchFrom(event) {\n  event.preventDefault();\n  refs.productList.innerHTML = '';\n  const buttons = document.querySelectorAll('.categories__btn');\n  buttons.forEach(btn => btn.classList.remove('categories__btn--active'));\n  if (refs.input.value.trim() === '') {\n    alert('Please write correct product name');\n    refs.searchForm.reset();\n    return;\n  }\n  searchProduct(refs.input.value)\n    .then(res => {\n      if (res.data.products.length === 0) {\n        refs.notFound.classList.add('not-found--visible');\n        refs.searchForm.reset();\n        return;\n      }\n      refs.productList.insertAdjacentHTML(\n        'beforeend',\n        renderProducts(res.data.products)\n      );\n      refs.notFound.classList.remove('not-found--visible');\n    })\n    .catch(error => alert(error.message));\n  refs.searchForm.reset();\n}\n","//Допоміжні функції\nimport refs from './refs.js';\n\nexport function clearSearch() {\n  refs.input.value = '';\n}\n","//Логіка сторінки Home\nimport { categoryListApi, productsApi } from './js/products-api.js';\nimport refs from './js/refs.js';\nimport { renderCategories, renderProducts } from './js/render-function.js';\nimport {\n  handleCategoryClick,\n  handleProductClick,\n  handleCloseClick,\n  searchFrom,\n} from './js/handlers.js';\nimport { clearSearch } from './js/helpers.js';\n\ncategoryListApi()\n  .then(res => {\n    const categories = ['All', ...res.data];\n    refs.categoryList.insertAdjacentHTML(\n      'beforeend',\n      renderCategories(categories)\n    );\n  })\n  .catch(error => alert(error.message));\n\nproductsApi()\n  .then(res => {\n    refs.productList.insertAdjacentHTML(\n      'beforeend',\n      renderProducts(res.data.products)\n    );\n  })\n  .catch(error => alert(error.message));\n\nrefs.categoryList.addEventListener('click', handleCategoryClick);\nrefs.productList.addEventListener('click', handleProductClick);\nrefs.modalClose.addEventListener('click', handleCloseClick);\nrefs.clearBtn.addEventListener('click', clearSearch);\nrefs.searchForm.addEventListener('submit', searchFrom);\n"],"names":["refs","categoryListApi","link","axios","productsApi","getCategoryApi","text","getProductById","id","searchProduct","name","renderCategories","arr","item","renderProducts","title","brand","category","price","images","renderModal","returnPolicy","shippingInformation","description","tags","openModal","closeModal","handleCategoryClick","event","btn","res","error","productList","handleProductClick","productId","handleCloseClick","searchFrom","clearSearch","categories"],"mappings":"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"}